{"ast":null,"code":"import P5Wrapper from\"./utils/P5_Wrapper\";import{jsx as _jsx}from\"react/jsx-runtime\";var sketch=function sketch(p5){/*\n  Made by: Floris Veldhuizen\n  */ // Had to take this from the source as it didn't work when retrieved from the p5 object\nfunction vectorLerp(v1,v2,amt,target){if(!target){target=v1.copy();if(arguments.length===4){p5._friendlyError('The target parameter is undefined, it should be of type p5.Vector','p5.Vector.lerp');}}else{target.set(v1);}target.lerp(v2,amt);return target;};var charpos,goalpos,leftpos,rightpos,leftfoot,rightfoot,speedvector,movevector,lastAngle=0,charAngle=0;var gpbool=false,mcbool=false,stepbool=false,stepboolcounter=0;//player variables\nvar charspeed=1,maxspeed=4,stepspeed=25,drag=0.9;// controller values\nvar upPressed=0,downPressed=0,leftPressed=0,rightPressed=0;p5.setup=function(){p5.createCanvas(p5.windowWidth,p5.windowHeight);movevector=p5.createVector(0,0);speedvector=p5.createVector(0,0);goalpos=p5.createVector(0,0);charpos=p5.createVector(p5.windowWidth/2,p5.windowHeight/2);leftpos=p5.createVector(charpos.x-20,charpos.y);rightpos=p5.createVector(charpos.x+20,charpos.y);leftfoot=p5.createVector(charpos.x-20,charpos.y);rightfoot=p5.createVector(charpos.x+20,charpos.y);};p5.draw=function(){p5.background(255,255,255,255);if(mcbool){p5.ellipse(p5.mouseX,p5.mouseY,40,40);vectorControl();}else if(gpbool){p5.ellipse(goalpos.x,goalpos.y,40,40);vectorControl(goalpos.x,goalpos.y);}speedqualizervector();legReworked();lastAngle=charAngle;if(stepboolcounter>stepspeed){stepboolcounter=0;stepbool=!stepbool;}stepboolcounter++;};function legReworked(){var curAngle=charAngle-lastAngle;rightpos.add(speedvector);leftpos.add(speedvector);leftpos=pointRotate(leftpos,charpos,curAngle);rightpos=pointRotate(rightpos,charpos,curAngle);if(!stepbool){leftfoot=vectorLerp(leftfoot,leftpos,0.1);}else if(stepbool){rightfoot=vectorLerp(rightfoot,rightpos,0.1);}// draw them leggos\np5.ellipse(leftfoot.x,leftfoot.y,10,10);p5.ellipse(rightfoot.x,rightfoot.y,10,10);}function speedqualizervector(){speedvector.add(movevector.mult(charspeed));speedvector.limit(maxspeed);var speedvmagSq=speedvector.magSq();//if the player is not moving, the character should stop\nif(speedvmagSq>0){if(speedvmagSq.toFixed(2)>0){if(movevector.x===0)speedvector.x*=drag;if(movevector.y===0)speedvector.y*=drag;charAngle=speedvector.heading()+p5.HALF_PI;}else{speedvector.mult(0);charAngle=lastAngle;}}charpos.add(speedvector);}function setMovevector(){gpbool=false;movevector.mult(0);movevector.y+=-1*upPressed;movevector.y+=1*downPressed;movevector.x+=-1*leftPressed;movevector.x+=1*rightPressed;movevector.normalize();}function vectorControl(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:p5.mouseX;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:p5.mouseY;var vectorangle=p5.createVector(0,0);vectorangle.x=x-charpos.x;vectorangle.y=y-charpos.y;if(vectorangle.magSq()>15){movevector=vectorangle.normalize();}else{speedvector.mult(Math.pow(drag,2));movevector.mult(0);gpbool=false;}}/*\n  KEY SHIT\n  */p5.keyPressed=function(){if(p5.keyCode===p5.LEFT_ARROW){leftPressed=1;}if(p5.keyCode===p5.RIGHT_ARROW){rightPressed=1;}if(p5.keyCode===p5.UP_ARROW){upPressed=1;}if(p5.keyCode===p5.DOWN_ARROW){downPressed=1;}setMovevector();};p5.keyReleased=function(){if(p5.keyCode===p5.LEFT_ARROW){leftPressed=0;}if(p5.keyCode===p5.RIGHT_ARROW){rightPressed=0;}if(p5.keyCode===p5.UP_ARROW){upPressed=0;}if(p5.keyCode===p5.DOWN_ARROW){downPressed=0;}setMovevector();};p5.mousePressed=function(){mcbool=true;gpbool=false;};p5.mouseReleased=function(){mcbool=false;gpbool=true;goalpos.x=p5.mouseX;goalpos.y=p5.mouseY;movevector.x=0;movevector.y=0;};p5.windowResized=function(){p5.resizeCanvas(p5.windowWidth,p5.windowHeight);};/**\n  * For lack of better rotation in p5.js\n  * @param {vector} p5.Vector  \tThis is the vector (coord) that you want to rotate\n  * @param {pivot}  p5.Vector  \tThis is the vector (coord) you want to pivot around\n  * @param {angle}\tnumber  \t\tThis is the angle of the rotation in radians\n  */function pointRotate(vector,pivot,angle){var s=p5.sin(angle);var c=p5.cos(angle);// translate point back to origin:\nvector.sub(pivot);// rotate point\nvar xnew=vector.x*c-vector.y*s;var ynew=vector.x*s+vector.y*c;// translate point back:\nvector.x=xnew+pivot.x;vector.y=ynew+pivot.y;return vector;}};var Walking=function Walking(){return/*#__PURE__*/_jsx(P5Wrapper,{sketch:sketch});};export default Walking;","map":{"version":3,"sources":["/Users/floris.veldhuizen/Documents/GitHub/florisveldhuizen.github.io/src/pages/Walking.jsx"],"names":["P5Wrapper","sketch","p5","vectorLerp","v1","v2","amt","target","copy","arguments","length","_friendlyError","set","lerp","charpos","goalpos","leftpos","rightpos","leftfoot","rightfoot","speedvector","movevector","lastAngle","charAngle","gpbool","mcbool","stepbool","stepboolcounter","charspeed","maxspeed","stepspeed","drag","upPressed","downPressed","leftPressed","rightPressed","setup","createCanvas","windowWidth","windowHeight","createVector","x","y","draw","background","ellipse","mouseX","mouseY","vectorControl","speedqualizervector","legReworked","curAngle","add","pointRotate","mult","limit","speedvmagSq","magSq","toFixed","heading","HALF_PI","setMovevector","normalize","vectorangle","keyPressed","keyCode","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","keyReleased","mousePressed","mouseReleased","windowResized","resizeCanvas","vector","pivot","angle","s","sin","c","cos","sub","xnew","ynew","Walking"],"mappings":"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","sourcesContent":["import P5Wrapper from \"./utils/P5_Wrapper\";\n\nconst sketch = (p5) => {\n  /*\n  Made by: Floris Veldhuizen\n  */\n\n  // Had to take this from the source as it didn't work when retrieved from the p5 object\n  function vectorLerp(v1, v2, amt, target) {\n    if (!target) {\n      target = v1.copy();\n      if (arguments.length === 4) {\n        p5._friendlyError(\n          'The target parameter is undefined, it should be of type p5.Vector',\n          'p5.Vector.lerp'\n        );\n      }\n    } else {\n      target.set(v1);\n    }\n    target.lerp(v2, amt);\n    return target;\n  };\n\n  let charpos, goalpos, leftpos, rightpos, leftfoot, rightfoot, speedvector, movevector, lastAngle = 0, charAngle = 0;\n  let gpbool = false, mcbool = false, stepbool = false, stepboolcounter = 0;\n\n  //player variables\n  let charspeed = 1,\n      maxspeed = 4,\n      stepspeed = 25,\n      drag = 0.9;\n\n  // controller values\n  let upPressed = 0, downPressed = 0, leftPressed = 0, rightPressed = 0;\n\n  p5.setup = () => {\n    p5.createCanvas(p5.windowWidth, p5.windowHeight);\n    movevector = p5.createVector(0,0);\n    speedvector = p5.createVector(0,0);\n    goalpos = p5.createVector(0,0);\n    charpos = p5.createVector( p5.windowWidth/2, p5.windowHeight/2);\n    leftpos = p5.createVector(charpos.x-20,charpos.y);\n    rightpos = p5.createVector(charpos.x+20,charpos.y);\n    leftfoot = p5.createVector(charpos.x-20,charpos.y);\n    rightfoot = p5.createVector(charpos.x+20,charpos.y);\n  }\n\n  p5.draw = () => {\n    p5.background(255,255,255,255);\n    if (mcbool) {\n      p5.ellipse(p5.mouseX, p5.mouseY, 40, 40);\n      vectorControl();\n    } else if (gpbool) {\n      p5.ellipse(goalpos.x, goalpos.y, 40, 40);\n      vectorControl(goalpos.x,goalpos.y);\n    }\n    speedqualizervector();\n    legReworked();\n    lastAngle = charAngle;\n    if(stepboolcounter > stepspeed){\n      stepboolcounter = 0;\n      stepbool = !stepbool;\n    }\n    stepboolcounter++;\n  }\n\n  function legReworked(){\n      let curAngle = charAngle - lastAngle;\n      rightpos.add(speedvector);\n      leftpos.add(speedvector);\n      leftpos = pointRotate(leftpos,charpos,curAngle);\n      rightpos = pointRotate(rightpos,charpos,curAngle);\n\n      if(!stepbool){\n        leftfoot = vectorLerp(leftfoot,leftpos,0.1);\n      } else if (stepbool) {\n        rightfoot = vectorLerp(rightfoot,rightpos,0.1);\n      }\n\n      // draw them leggos\n      p5.ellipse(leftfoot.x, leftfoot.y, 10, 10);\n      p5.ellipse(rightfoot.x, rightfoot.y, 10, 10);\n  }\n\n  function speedqualizervector(){\n    speedvector.add(movevector.mult(charspeed));\n    speedvector.limit(maxspeed);\n    const speedvmagSq = speedvector.magSq();\n    //if the player is not moving, the character should stop\n    if (speedvmagSq > 0) {\n      if(speedvmagSq.toFixed(2) > 0){\n        if(movevector.x===0) speedvector.x *= drag;\n        if(movevector.y===0) speedvector.y *= drag;\n        charAngle = speedvector.heading() + p5.HALF_PI;\n      } else {\n        speedvector.mult(0);\n        charAngle = lastAngle;\n      }\n    }\n    charpos.add(speedvector);\n  }\n\n  function setMovevector(){\n    gpbool = false;\n    movevector.mult(0);\n    movevector.y += -1 * upPressed;\n    movevector.y += 1 * downPressed;\n    movevector.x += -1 * leftPressed;\n    movevector.x += 1 * rightPressed;\n    movevector.normalize();\n  }\n\n  function vectorControl(x = p5.mouseX,y = p5.mouseY){\n    let vectorangle = p5.createVector(0,0);\n    vectorangle.x = (x - charpos.x);\n    vectorangle.y = (y - charpos.y);\n    if(vectorangle.magSq() > 15){\n      movevector = vectorangle.normalize();\n    } else {\n      speedvector.mult(drag**2);\n      movevector.mult(0);\n      gpbool = false;\n    }\n  }\n\n  /*\n  KEY SHIT\n  */\n  p5.keyPressed = () => {\n    if (p5.keyCode === p5.LEFT_ARROW) {\n      leftPressed = 1;\n    }\n    if (p5.keyCode === p5.RIGHT_ARROW) {\n      rightPressed = 1;\n    }\n    if (p5.keyCode === p5.UP_ARROW) {\n      upPressed = 1;\n    }\n    if (p5.keyCode === p5.DOWN_ARROW) {\n      downPressed = 1;\n    }\n    setMovevector();\n  }\n\n  p5.keyReleased = () => {\n    if (p5.keyCode === p5.LEFT_ARROW) {\n      leftPressed = 0;\n    }\n    if (p5.keyCode === p5.RIGHT_ARROW) {\n      rightPressed = 0;\n    }\n    if (p5.keyCode === p5.UP_ARROW) {\n      upPressed = 0;\n    }\n    if (p5.keyCode === p5.DOWN_ARROW) {\n      downPressed = 0;\n    }\n    setMovevector();\n  }\n  p5.mousePressed = () => {\n    mcbool = true;\n    gpbool = false;\n  }\n  p5.mouseReleased = () => {\n    mcbool = false;\n    gpbool = true;\n    goalpos.x = p5.mouseX;\n    goalpos.y = p5.mouseY;\n    movevector.x = 0;\n    movevector.y = 0;\n  }\n  p5.windowResized = () => {\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n  }\n\n  /**\n  * For lack of better rotation in p5.js\n  * @param {vector} p5.Vector  \tThis is the vector (coord) that you want to rotate\n  * @param {pivot}  p5.Vector  \tThis is the vector (coord) you want to pivot around\n  * @param {angle}\tnumber  \t\tThis is the angle of the rotation in radians\n  */\n  function pointRotate(vector,pivot,angle){\n    const s = p5.sin(angle);\n    const c = p5.cos(angle);\n    // translate point back to origin:\n    vector.sub(pivot);\n    // rotate point\n    let xnew = vector.x * c - vector.y * s;\n    let ynew = vector.x * s + vector.y * c;\n    // translate point back:\n    vector.x = xnew + pivot.x;\n    vector.y = ynew + pivot.y;\n    return vector;\n  }\n}\n\nconst Walking = () => {\n  return (\n    <P5Wrapper sketch={sketch} />\n  );\n};\n\nexport default Walking;\n"]},"metadata":{},"sourceType":"module"}