{"mappings":"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","sources":["src/card_js/js/card-stack.js"],"sourcesContent":["var tresholdValue = 200;\n\nfunction handleStack(stack_elem,maxStacksize){ //first param is the cardstack div, second is the visible size of the stack\n  maxStacksize = maxStacksize || 5;\n  var bottomPos = 0;\n  var stack = document.getElementById(stack_elem);\n  //convert nodelist of cards into an array\n  var cards = Array.prototype.slice.call(stack.querySelectorAll(\"#\"+stack_elem+\">div\"));\n  // adjust max size of visible stack according to size of array\n  if(cards.length<maxStacksize){\n    maxStacksize = cards.length;\n  }\n  var i = 0;\n  cards.forEach(function(element) { //go through each card in the stack\n    element.classList.add(\"card\");//every element in the cardstack is a card\n    var label = document.createElement(\"div\"); //create new div that becomes the cardlabel\n    var textnode = document.createTextNode(i+1); //add number of the card\n    label.appendChild(textnode);\n    label.classList.add(\"label\");\n    element.appendChild(label);//add the label to the card\n    element.style.zIndex = element.style.zIndex + (cards.length - i);\n    if(i<maxStacksize-1){\n      element.style.top = element.style.top + i*4 + \"px\";\n      bottomPos = element.offsetTop;\n    }else{\n      element.style.top = element.style.top + (maxStacksize-1)*4 + \"px\";\n      bottomPos = element.offsetTop;\n      if (i>maxStacksize-1){\n        element.style.display = \"none\";\n      }\n    }\n    i++;\n  });\n\n  function nextCard(){\n    if(cards.length>maxStacksize){\n      cards[cards.length-1].style.display = \"none\";\n    }\n    var curElem = cards.shift();\n    cards.push(curElem);\n    var i = 0;\n    cards.forEach(function(element) {\n      element.style.zIndex = cards.length - i;\n      if(i<maxStacksize-1){\n        element.style.display = \"block\";\n        element.style.top = element.offsetTop - 4 + \"px\";\n      }\n      i++;\n    });\n    dragElement(cards[0]);\n  }\n\n  function dragElement(elmnt) {\n    //lock element in starting position\n    var offsetX = 0, offsetY = 0, curLeft = 0, curTop = 0, hoverValue = 10;\n    (function setup(){\n      elmnt.addEventListener(\"mouseenter\", hoverCard);\n      elmnt.addEventListener(\"touchstart\", dragFingerDown);\n    })();\n\n    function translateEZ(x, y){ //this is based on the current position of the card, not an absolute value\n      elmnt.style.left = x + 'px';\n      elmnt.style.top = y + 'px';\n    }\n\n    function cardlift(){\n      elmnt.classList.add(\"lifted\");\n    }\n\n    function carddrop(){\n      elmnt.classList.remove(\"lifted\");\n      elmnt.style.transform = \"\";\n    }\n\n    function hoverCard(e){\n      e = e || window.event;\n      e.preventDefault();\n      cardlift();\n      hoverValue = 10;\n      elmnt.addEventListener(\"mousedown\",  dragMouseDown);\n      elmnt.addEventListener(\"mouseleave\", stopHoverCard);\n    }\n\n    function stopHoverCard(e){\n      e = e || window.event; //kijk hier ff naar bitch\n      e.preventDefault();\n      carddrop();\n      elmnt.removeEventListener(\"mousedown\",  dragMouseDown);\n      elmnt.removeEventListener(\"mouseleave\", stopHoverCard);\n    }\n\n    function dragMouseDown(e) {\n      e = e || window.event;\n      e.preventDefault();\n      cardlift();\n      //get mousepos relative to active div\n      offsetX = e.clientX-elmnt.offsetLeft;\n      offsetY = e.clientY-elmnt.offsetTop;\n      document.addEventListener(\"mouseup\",  closeDragMouse);\n      document.addEventListener(\"mousemove\", elementDrag);\n    }\n\n    function dragFingerDown(e) {\n      e = e || window.event; //kijk hier ff naar bitch\n      e.preventDefault();\n      cardlift();\n      offsetX = e.touches[0].clientX-elmnt.offsetLeft;\n      offsetY = e.touches[0].clientY-elmnt.offsetTop;\n      document.addEventListener(\"touchend\",  closeDragTouch);\n      document.addEventListener(\"touchmove\",  elementDrag_touch);\n    }\n\n    function elementDrag(e) {\n      e = e || window.event;\n      e.preventDefault();\n      elmnt.removeEventListener(\"mouseleave\", stopHoverCard);\n      // calculate the new div position (based on cursor pos, starting pos, and cursor offset on active div):\n      curLeft = e.clientX-offsetX;\n      curTop = e.clientY-offsetY+hoverValue;\n      // set the element's new position:\n      elmnt.style.transform = \"translate(\"+curLeft+\"px,\"+curTop+\"px) rotate(\"+curLeft/30+\"deg)\";\n    }\n\n    function elementDrag_touch(e) {\n      e = e || window.event;\n      e.preventDefault();\n      // calculate the new div position (based on cursor pos, starting pos, and cursor offset on active div):\n      curLeft = e.touches[0].clientX-offsetX;\n      curTop = e.touches[0].clientY-offsetY;\n      // set the element's new position:\n      elmnt.style.transform = \"translate(\"+curLeft+\"px,\"+curTop+\"px) rotate(\"+curLeft/30+\"deg)\";\n    }\n\n    function closeDragMouse(e) {\n      e = e || window.event;\n      e.preventDefault();\n      // stop moving when mouse button is released:\n      document.removeEventListener(\"mouseup\", closeDragMouse);\n      document.removeEventListener(\"mousemove\", elementDrag);\n      //return element to the stack\n      carddrop();\n      hoverValue = 0;\n      //add timeout for card animation\n      if(Math.abs(curLeft)>tresholdValue){\n        elmnt.removeEventListener(\"mouseenter\", hoverCard);\n        elmnt.removeEventListener(\"mousedown\",  dragMouseDown);\n        elmnt.removeEventListener(\"touchstart\", dragFingerDown);\n        translateEZ(0, bottomPos);\n        nextCard();\n      }\n    }\n\n    function closeDragTouch(e) {\n      e = e || window.event;\n      e.preventDefault();\n      // stop moving when touch is released:\n      document.removeEventListener(\"touchend\", closeDragTouch);\n      document.removeEventListener(\"touchmove\", elementDrag_touch);\n      //return element to the stack\n      carddrop();\n      //add timeout for card animation\n      if(Math.abs(curLeft)>tresholdValue){\n        elmnt.removeEventListener(\"mouseenter\", hoverCard);\n        elmnt.removeEventListener(\"touchstart\", dragFingerDown);\n        translateEZ(0, bottomPos);\n        nextCard();\n      }\n    }\n  }\n  //Make the top DIV element draggable:\n  dragElement(cards[0]);\n}\n\nhandleStack(\"stack\");\nhandleStack(\"stack2\",3);\n"],"names":[],"version":3,"file":"index.bd9430ea.js.map","sourceRoot":"/__parcel_source_root/"}