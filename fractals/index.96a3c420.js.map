{"mappings":"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","sources":["src/fractals/js/main.js"],"sourcesContent":["//some global variables:\nvar _width = 1900,\n\t_height = 900,\n\tthreshold = 300,\n\tmousePositionX,\n\tmousePositionY,\n\tzoomSpeed = 0.0005;\n\n//Custom pixi filter in order to compute the fractal on the gpu\n  PIXI.FractalFilter = function() {\n  PIXI.AbstractFilter.call(this);\n\n  this.passes = [ this ];\n\n  this.uniforms = {\n      resolution: {type: '2f', value: {x: _width, y: _height}},\n      minSet: {type: '2f', value: {x: -2.5, y: -1}},\n      maxSet: {type: '2f', value: {x: 1, y: 1}},\n      threshold: {type: '1f', value: threshold}\n  }\n\n  this.fragmentSrc = [\n    'precision highp float;',\n    'uniform vec2 resolution;',\n    'uniform vec2 minSet;',\n    'uniform vec2 maxSet;',\n    'uniform float threshold;',\n    'uniform float animator;',\n\n    'void main(void) {',\n      'vec2 ss = vec2(gl_FragCoord.x / resolution.x, gl_FragCoord.y/resolution.y);',\n      'vec2 scaledPosition = vec2((gl_FragCoord.x / resolution.x) * (maxSet.x - minSet.x) + minSet.x, (gl_FragCoord.y / resolution.y) * (maxSet.y - minSet.y) + minSet.y);',\n      'vec2 newPosition = vec2(0.,0.);',\n      'float counter = 0.;',\n      'bool escaped = false;',\n      'for(int i=0; i < 10000; i++){',\n        'if(newPosition.x * newPosition.x + newPosition.y * newPosition.y > 2.*2. || float(i) > threshold){',\n          'counter = float(i);',\n          'escaped = true;',\n          'break;',\n        '}',\n      'float xTemp = newPosition.x * newPosition.x - newPosition.y * newPosition.y + scaledPosition.x;',\n      'newPosition.y = 2.*newPosition.x*newPosition.y+scaledPosition.y;',\n      'newPosition.x = xTemp;',\n      '}',\n    'gl_FragColor = escaped ? vec4(vec3(255.*(counter/10000.)), 1.0) : vec4(0.,255.,0., 1.0);',\n    '}'\n\t];\n};\n\nPIXI.FractalFilter.prototype = Object.create( PIXI.AbstractFilter.prototype );\nPIXI.FractalFilter.prototype.constructor = PIXI.FractalFilter;\n\nvar stage = new PIXI.Stage(0x663300);\nvar renderer = PIXI.autoDetectRenderer(_width, _height);\nvar fractal = new PIXI.Sprite;\nvar FractalFilter = new PIXI.FractalFilter();\n\nfractal.position.x = 0;\nfractal.position.y = 0;\nfractal.width = _width;\nfractal.height = _height;\nfractal.filters = [FractalFilter];\nstage.addChild(fractal);\n\nvar scrollZoom = 0;\nvar oldMousePosition, newMousePosition, currentPosition;\nvar stageDragging = false;\n\n$(function(){\n\tdocument.body.appendChild(renderer.view);\n\n\trequestAnimationFrame(animate);\n\tfunction animate() {\n\t\tnewMousePosition = currentPosition;\n\t\t//do things with mouse position\n\n\t\tvar xLength = FractalFilter.uniforms.maxSet.value.x - FractalFilter.uniforms.minSet.value.x;\n\t\tvar yLength = FractalFilter.uniforms.maxSet.value.y - FractalFilter.uniforms.minSet.value.y;\n\n\t\tif(stageDragging){\n\t\t\txMovement = (newMousePosition.x - oldMousePosition.x)/_width;\n\t\t\tyMovement = (newMousePosition.y - oldMousePosition.y)/_height;\n\n\t\t\tFractalFilter.uniforms.minSet.value.x -= xLength * xMovement ;\n\t\t\tFractalFilter.uniforms.minSet.value.y += yLength * yMovement ;\n\t\t\tFractalFilter.uniforms.maxSet.value.x -= xLength * xMovement ;\n\t\t\tFractalFilter.uniforms.maxSet.value.y += yLength * yMovement ;\n\t\t}\n\n\t\t//animate by zooming in towards mouse cursor\n\t\tif(stage.getMousePosition().x > 0){\n\t\t\tmousePositionX = stage.getMousePosition().x/_width;\n\t\t\tmousePositionY = stage.getMousePosition().y/_height;\n\t\t}\n\t\tvar setRatio = (xLength)/(yLength);\n\t\tif(stage.getMousePosition().x ){\n\t\t\tFractalFilter.uniforms.minSet.value.x += xLength * scrollZoom * (mousePositionX);\n\t\t\tFractalFilter.uniforms.minSet.value.y += yLength * scrollZoom * (1-mousePositionY);\n\t\t\tFractalFilter.uniforms.maxSet.value.x -= xLength * scrollZoom * (1-mousePositionX);\n\t\t\tFractalFilter.uniforms.maxSet.value.y -= yLength * scrollZoom * (mousePositionY);\n\t\t}\n\n\t\trequestAnimationFrame(animate);\n\t\trenderer.render(stage);\n\t\tscrollZoom = scrollZoom * .8;\n\t\toldMousePosition = newMousePosition;\n\t}\n\t//Panning\n\tstage.mousedown = function(){\n\t\tstageDragging = true;\n\t}\n\tstage.touchstart = function(e){\n\t\tcurrentPosition = {x: e.getLocalPosition(fractal).x*_width, y: e.getLocalPosition(fractal).y*_height};\n\t\tnewMousePosition = currentPosition;\n\t\toldMousePosition = currentPosition;\n\t\tstageDragging = true;\n\t}\n\n\tstage.mouseup = function(){\n\t\tstageDragging = false;\n\t}\n\tstage.mouseout = function(){\n\t\tstageDragging = false;\n\t}\n\tstage.touchend = function(){\n\t\tstageDragging = false;\n\t}\n\n\tstage.mousemove = function(e){\n\t\tcurrentPosition = {x: e.getLocalPosition(fractal).x*_width, y: e.getLocalPosition(fractal).y*_height};\n\t}\n\n\tstage.touchmove = function(e){\n\t\tcurrentPosition = {x: e.getLocalPosition(fractal).x*_width, y: e.getLocalPosition(fractal).y*_height};\n\t}\n});\n\nfunction resizeHandler(e){\n\t_width = $(document).width();\n\t_height = $(document).height();\n\tFractalFilter.uniforms.resolution.value.x = _width;\n\tFractalFilter.uniforms.resolution.value.y = _height;\n\tfractal.width = _width;\n\tfractal.height = _height;\n\trenderer.resize(_width,_height);\n}\n\n$(window).on('resize', resizeHandler);\n\nresizeHandler();\n\n$(document).mousewheel(function(e){\n\tscrollZoom += e.deltaY * e.deltaFactor/10000;\n});\n"],"names":[],"version":3,"file":"index.96a3c420.js.map","sourceRoot":"/__parcel_source_root/"}