import"./modulepreload-polyfill-3cfb730f.js";import{p as K}from"./p5.min-0594c91b.js";import"./_commonjsHelpers-042e6b4d.js";import"./_commonjs-dynamic-modules-302442b1.js";const B=e=>{let _,P,r,u,X,I,l,a,w=!1,T=-1;const n=120;let U=!0,E=-1,W=0;const s=[0,0];let f=[],A=5-1,H=!1,L=0,m=[0,0];const y=Math.floor(60/20);let O=0;e.setup=()=>{e.frameRate(60),e.createCanvas(e.windowWidth,e.windowHeight),e.background(0,0,0,100),_=e.windowWidth/2-400/2,P=e.windowHeight/2-400/2,r=400/14,u=Math.floor(400/r),X=14*u,b()},e.draw=()=>{w&&Y(),L>y&&(e.background(0,0,0,100),C(),N(),G(),F(),L=0),w&&$(),H&&D(),L++,v()};const D=()=>{e.fill(255),e.rect(0,0,e.windowWidth,e.windowHeight),e.background(0,0,0,100),A=5-1,f=[],H=!1},N=()=>{e.stroke(255),e.fill(0);for(let o=0;o<14;o++)for(let t=0;t<u;t++)e.rect(o*r+_,t*r+P,r,r)},v=()=>{const t=A-4;t>O&&(O=t),e.textSize(30),e.fill(255),e.textAlign(e.RIGHT),e.text(`${String.fromCodePoint(127942)}: ${O}`,_+400,P-30),e.textAlign(e.LEFT),e.text(`${String.fromCodePoint(127852)}: ${t}`,_,P-30)},b=()=>{const o=()=>{const i=Math.floor(Math.random()*14),c=Math.floor(Math.random()*u);return f.some(R=>R[0]===i&&R[1]===c)?o():[i,c]},t=()=>{const i={},c=[...f];[...Array(14)].forEach((h,Q)=>i[Q]=[...Array(u).keys()]);for(const[h,Q]of Object.entries(i)){const j=parseInt(h);i[h]=Q.filter(q=>!c.some(z=>z[0]===j&&z[1]===q)),i[h].length<1&&delete i[h]}const g=Object.keys(i),R=parseInt(g[Math.floor(Math.random()*g.length)]),S=i[R][Math.floor(Math.random()*i[R].length)];return[R,S]};return m=A<X/2?o():t()},F=()=>{e.textSize(32),e.text(`${String.fromCodePoint(127852)}`,m[0]*r+_,(m[1]+.9)*r+P)},C=()=>{I=W,E!==-1&&(W=E,E=-1),U=!0,I===3?s[1]--:I===1?s[1]++:I===2?s[0]--:I===0&&s[0]++,s[1]<0?s[1]=u-1:s[1]>u-1?s[1]=0:s[0]<0?s[0]=14-1:s[0]>14-1&&(s[0]=0),f.length>A&&f.shift(),f.forEach(o=>{s[0]===o[0]&&s[1]===o[1]&&(H=!0,console.error(`U DEAD ${String.fromCodePoint(128128)}`))}),f.push([...s]),s[0]===m[0]&&s[1]===m[1]&&(A++,b())},G=()=>{const o=Math.floor(155/A);f.forEach((t,i)=>{e.fill(i*o+100,0,0),e.rect(t[0]*r+_,t[1]*r+P,r,r)})},d=o=>{W!==I&&(E=o),Math.abs(o-I)!==2&&U&&(W=o,U=!1),T=o},Y=()=>{const o=(i,c,g,R)=>{const S=g-i,h=R-c;return S*S+h*h};let t=Math.atan2(e.mouseY-a,e.mouseX-l);t<0&&(t+=e.TWO_PI),o(l,a,e.mouseX,e.mouseY)>100?t>e.TWO_PI-e.QUARTER_PI||t<e.QUARTER_PI?d(0):t>e.QUARTER_PI&&t<e.HALF_PI+e.QUARTER_PI?d(1):t>e.HALF_PI+e.QUARTER_PI&&t<e.PI+e.QUARTER_PI?d(2):t>e.PI+e.QUARTER_PI&&t<e.TWO_PI-e.QUARTER_PI&&d(3):T=-1},$=()=>{const o=()=>e.arc(l,a,n,n,e.QUARTER_PI,e.HALF_PI+e.QUARTER_PI),t=()=>e.arc(l,a,n,n,e.HALF_PI+e.QUARTER_PI,e.PI+e.QUARTER_PI),i=()=>e.arc(l,a,n,n,e.PI+e.QUARTER_PI,e.TWO_PI-e.QUARTER_PI),c=()=>e.arc(l,a,n,n,e.TWO_PI-e.QUARTER_PI,e.QUARTER_PI);e.fill(100),e.ellipse(l,a,n,n),e.fill(200),T===3&&i(),T===1&&o(),T===2&&t(),T===0&&c(),e.fill(50),e.ellipse(e.mouseX,e.mouseY,n/2,n/2)},k=()=>(w=!1,!1),M=()=>(l=e.mouseX,a=e.mouseY,w=!0,!1),x=(o,t,i,c,g)=>{o===g&&d(0),o===i&&d(1),o===c&&d(2),o===t&&d(3)};e.mousePressed=()=>M(),e.touchStarted=()=>M(),e.mouseReleased=()=>k(),e.touchEnded=()=>k(),e.keyTyped=()=>{x(e.key,"w","s","a","d")},e.keyPressed=()=>{x(e.keyCode,e.UP_ARROW,e.DOWN_ARROW,e.LEFT_ARROW,e.RIGHT_ARROW)},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight),e.background(0,0,0,100),_=e.windowWidth/2-400/2,P=e.windowHeight/2-400/2,r=400/14}};new K(B);
